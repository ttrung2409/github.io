<div>
  <div class="ui grid">
    <div class="eight wide column">
      <mat-form-field>
        <input matInput placeholder="Mã SP" [(ngModel)]="product.no" required disabled>
      </mat-form-field>
    </div>
    <div class="eight wide column">
      <mat-form-field>
        <input #productBarcodeInput matInput placeholder="Mã vạch" [(ngModel)]="product.barcode">
      </mat-form-field>
    </div>
    <div class="sixteen wide column">
      <mat-form-field>
        <input matInput placeholder="Tên SP" [(ngModel)]="product.name" required name="name">
        <mat-error *ngIf="hasError('name')">
          Vui lòng nhập tên sản phẩm
        </mat-error>
      </mat-form-field>
    </div>
    <div class="eight wide column">
      <dropdown [(model)]="product.categoryId"
                [options]="categories"
                [label]="'Loại'"
                [valueMember]="'id'"
                [displayMember]="'name'"></dropdown>
    </div>
    <div class="eight wide column">
      <dropdown [options]="uoms"
                [label]="'ĐVT'"
                [(model)]="product.uom"
                [valueMember]="'name'"
                [displayMember]="'name'">
      </dropdown>
    </div>
    <div class="eight wide column">
      <mat-form-field>
        <input matInput placeholder="Giá nhập" number [(model)]="product.cost">
      </mat-form-field>
    </div>
    <div class="eight wide column">
      <mat-form-field>
        <input matInput placeholder="Giá lẻ" number [(model)]="product.retailPrice">
      </mat-form-field>
    </div>
    <div class="eight wide column">
      <mat-form-field>
        <input matInput placeholder="Giá sỉ" number [(model)]="product.wholesalePrice">
      </mat-form-field>
    </div>
    <div class="eight wide column">
      <mat-form-field>
        <input matInput placeholder="Giá khuyến mãi" number [(model)]="product.discountPrice">
      </mat-form-field>
    </div>
    <div class="sixteen wide column">
      <mat-form-field>
        <textarea matInput placeholder="Ghi chú" [(ngModel)]="product.notes"></textarea>
      </mat-form-field>
    </div>    
    <div class="sixteen wide column">
      <mat-checkbox [(ngModel)]="product.isContainer">Có sản phẩm lẻ</mat-checkbox>
    </div>
    <div class="row" *ngIf="product.isContainer">
      <div class="sixteen wide column">
        <label>1 {{product.uom}} {{product.name}} có:</label>
      </div>
      <div class="four wide column">
        <mat-form-field [floatLabel]="'never'">
          <input matInput placeholder="SL" [(model)]="product.childItemQty" number/>
        </mat-form-field>
      </div>
      <div class="twelve wide column">
        <product-lookup [(model)]="product.childItemId" [direction]="'upward'"></product-lookup>
      </div>
    </div>
  </div>
  <div class="actions">
    <button mat-flat-button (click)="doCancel()">Hủy (Esc)</button>
    <button mat-flat-button color="primary" (click)="save()">Lưu (F4)</button>
  </div>
</div>
