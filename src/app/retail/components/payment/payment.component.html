<div>
  <div class="ui grid">
    <div class="sixteen wide column">
      <typeahead #customerLookup [options]="customers"
                 [(model)]="payment.customerId"
                 (search)="onSearch($event)"
                 [isLoading]="isLoading"
                 [valueMember]="'id'"
                 [displayMember]="'name'"
                 [label]="'Nhập mã, tên, SĐT hoặc email để tìm khách hàng'"
                 [floatLabel]="'never'"
                 [showOnDown]="false"
                 [requestForOption]="requestForCustomer.bind(this)"
                 [itemTemplate]="itemTemplate">
        <ng-template #itemTemplate let-item="item">
          <div class="customer-dropdown-item">
            <div class="flex">
              <label>{{item.name}}</label>
              <label>{{item.no}}</label>
            </div>
            <div class="flex" *ngIf="!!item.phone || !!item.email">
              <label>{{item.phone}}</label>
              <label>{{item.email}}</label>
            </div>            
          </div>          
        </ng-template>
      </typeahead>
    </div>    
    <div class="sixteen wide column">
      <mat-form-field>
        <input matInput placeholder="Tổng" number [model]="invoice.total" [readonly]="true" required>
      </mat-form-field>
    </div>
    <div class="sixteen wide column">
      <mat-form-field>
        <input matInput placeholder="Tiền mặt" number [(model)]="payment.amount">
      </mat-form-field>
    </div>
    <div class="sixteen wide column">
      <mat-form-field>
        <input matInput placeholder="Tiền thừa"
               number [model]="payment.amount - invoice.total > 0 ? payment.amount - invoice.total : ''"
               [readonly]="true">
      </mat-form-field>
    </div>
  </div>  
  <div class="actions">
    <button mat-flat-button color="primary" (click)="doCommit()">Thanh toán (F9)</button>
  </div>
</div>
