{"version":3,"sources":["webpack:///./src/app/product/components/product-list/product-list.component.html","webpack:///./src/app/product/components/product-list/product-list.component.scss","webpack:///./src/app/product/components/product-list/product-list.component.ts","webpack:///./src/app/product/components/product-search/product-search.component.html","webpack:///./src/app/product/components/product-search/product-search.component.scss","webpack:///./src/app/product/components/product-search/product-search.component.ts","webpack:///./src/app/product/components/product/product.component.html","webpack:///./src/app/product/components/product/product.component.scss","webpack:///./src/app/product/components/product/product.component.ts","webpack:///./src/app/product/product.module.ts","webpack:///./src/app/product/product.routing.ts"],"names":[],"mappings":"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","file":"product-product-module.js","sourcesContent":["module.exports = \"<div class=\\\"product-list\\\">\\r\\n  <toolbar>\\r\\n    <toolbar-title>Quản lý sản phẩm</toolbar-title>\\r\\n    <actions>\\r\\n      <button mat-button (click)=\\\"showSearchView()\\\">\\r\\n        <mat-icon>filter_list</mat-icon>\\r\\n        (F2)\\r\\n      </button>\\r\\n    </actions>\\r\\n  </toolbar>  \\r\\n  <div style=\\\"margin-top: 8px\\\"></div>\\r\\n  <grid #grid [columns]=\\\"columns\\\" [dataSource]=\\\"products\\\" (rowClick)=\\\"onSelect($event)\\\" (select)=\\\"onSelect($event)\\\"></grid>\\r\\n  <flyout #flyout [closable]=\\\"false\\\" [containerSelector]=\\\"'.product-list'\\\" (onHide)=\\\"onFlyoutHide()\\\">\\r\\n    <content>\\r\\n      <product #productView *ngIf=\\\"flyoutView == 'product'\\\"\\r\\n               [id]=\\\"selectedProduct.id\\\"\\r\\n               (cancel)=\\\"flyout.hide()\\\"\\r\\n               (commit)=\\\"flyout.hide()\\\">\\r\\n      </product>\\r\\n      <product-search #productSearchView *ngIf=\\\"flyoutView == 'search'\\\"\\r\\n                      (search)=\\\"onSearch($event)\\\"\\r\\n                      (cancel)=\\\"flyout.hide()\\\"></product-search>\\r\\n    </content>        \\r\\n  </flyout>\\r\\n  <button mat-fab>\\r\\n    <mat-icon>add</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\"","module.exports = \".product-list .grid.search .column {\\n  padding: 0px;\\n  padding-left: 16px;\\n  padding-right: 16px; }\\n\"","import { Component, OnInit, ViewChild, ViewEncapsulation, OnDestroy, ElementRef } from '@angular/core';\r\nimport ProductService from '../../../services/product.service';\r\nimport { GridColumn, GridComponent } from '../../../widgets/grid/grid.component';\r\nimport Product from '../../../models/product';\r\nimport { FlyoutComponent } from '../../../widgets/flyout/flyout.component';\r\nimport Category from '../../../models/category';\r\nimport { ProductComponent } from '../product/product.component';\r\nimport { fromEvent, Subscription } from 'rxjs';\r\nimport { Key } from 'ts-keycode-enum';\r\nimport { ProductSearchComponent } from '../product-search/product-search.component';\r\n\r\n@Component({\r\n  selector: 'product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ProductListComponent implements OnInit, OnDestroy {\r\n  private _subscription: Subscription = new Subscription();\r\n\r\n  constructor(private productService: ProductService) {\r\n  }\r\n\r\n  columns: GridColumn[];\r\n  products: Product[];\r\n  selectedProduct: Product = new Product();\r\n  flyoutView: string;\r\n  \r\n  @ViewChild(FlyoutComponent) flyout: FlyoutComponent;\r\n  @ViewChild('productView') productView: ProductComponent;\r\n  @ViewChild('grid') grid: GridComponent;\r\n  @ViewChild('productSearchView') productSearchView: ProductSearchComponent;\r\n\r\n  ngOnInit() {\r\n    this.columns = [\r\n      new GridColumn({\r\n        caption: 'Mã SP',\r\n        field: 'no'        \r\n      }),\r\n      new GridColumn({\r\n        caption: 'Tên SP',\r\n        field: 'name'        \r\n      }),\r\n      new GridColumn({\r\n        caption: 'ĐVT',\r\n        field: 'uom'\r\n      }),\r\n      new GridColumn({\r\n        caption: 'Giá nhập',\r\n        field: 'cost'        \r\n      }),\r\n      new GridColumn({\r\n        caption: 'Giá lẻ',\r\n        field: 'retailPrice'\r\n      }),\r\n      new GridColumn({\r\n        caption: 'Giá sỉ',\r\n        field: 'wholeSalePrice'\r\n      }),\r\n      new GridColumn({\r\n        caption: 'Giá khuyến mãi',\r\n        field: 'discountPrice'\r\n      })\r\n    ];\r\n\r\n    this._subscription.add(this.productService.getProducts().subscribe(products => {\r\n      this.products = products;\r\n    }));\r\n\r\n    this._subscription.add(fromEvent(document, 'keyup').subscribe((event: KeyboardEvent) => {\r\n      switch (event.keyCode) {\r\n        case Key.F2:\r\n          this.showSearchView();          \r\n          break;\r\n      }\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subscription.unsubscribe();\r\n  }\r\n\r\n  onSelect(row) {    \r\n    this.selectedProduct = row;\r\n    this.flyoutView = 'product';\r\n    this.flyout.show().then(() => {\r\n      this.productView.focus();      \r\n    });    \r\n  }\r\n\r\n  onSearch(params) {\r\n    this.flyout.hide();\r\n  }\r\n\r\n  add() {\r\n    this.selectedProduct = new Product();\r\n    this.flyout.show();\r\n  }\r\n\r\n  showSearchView() {\r\n    this.flyoutView = 'search';\r\n    this.flyout.show().then(() => {\r\n      this.productSearchView.focus();\r\n    });\r\n  }\r\n\r\n  onFlyoutHide() {\n    this.flyoutView = '';\n  }\r\n}\r\n","module.exports = \"<div>\\r\\n  <div class=\\\"ui grid\\\">\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input #productNoInput matInput placeholder=\\\"Mã SP\\\" [(ngModel)]=\\\"model.productNo\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Tên SP\\\" [(ngModel)]=\\\"model.productName\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <dropdown [options]=\\\"categories\\\"\\r\\n                [label]=\\\"'Loại'\\\"\\r\\n                [displayMember]=\\\"'name'\\\"\\r\\n                [valueMember]=\\\"'id'\\\"\\r\\n                [(model)]=\\\"model.categoryId\\\">\\r\\n      </dropdown>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <dropdown [options]=\\\"states\\\"\\r\\n                [label]=\\\"'Tình trạng'\\\"\\r\\n                [(model)]=\\\"model.isActive\\\">\\r\\n      </dropdown>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"actions\\\">\\r\\n    <button mat-flat-button (click)=\\\"doCancel()\\\">Hủy (Esc)</button>\\r\\n    <button mat-flat-button color=\\\"primary\\\" (click)=\\\"doSearch()\\\">Tìm (F4)</button>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\"","import { Component, OnInit, Output, EventEmitter, OnDestroy, ElementRef, ViewChild, HostListener } from '@angular/core';\nimport Category from '../../../models/category';\r\nimport ProductService from '../../../services/product.service';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\nimport { Key } from 'ts-keycode-enum';\r\ndeclare var $: any;\r\n\n@Component({\n  selector: 'product-search',\n  templateUrl: './product-search.component.html',\n  styleUrls: ['./product-search.component.scss']\n})\nexport class ProductSearchComponent implements OnInit {\n  constructor(private productService: ProductService) { }\n\n  @Output() search = new EventEmitter();\n  @Output() cancel = new EventEmitter();\n\n  model: any = {};\n  categories: Category[];\n  states: any[] = [{ value: 1, text: 'Hoạt động' }, { value: 0, text: 'Không hoạt động' }]\n\n  @ViewChild('productNoInput') productNoInput: ElementRef;\n\n  @HostListener('keyup', ['$event']) onKeyup(e: KeyboardEvent) {\n    switch (e.keyCode) {\n      case Key.Escape:\n        this.doCancel();\n        break;\n      case Key.F4:\n        this.doSearch();\n        break;\n    }\n  };\n\n  ngOnInit() {\n    this.productService.getCategories().subscribe(categories => this.categories = categories);   \n  }\n\n  doSearch() {\n    this.search.emit(this.model);\n  }\n\n  doCancel() {\n    this.cancel.emit();\n  }\n\n  focus() {\n    $(this.productNoInput.nativeElement).focus();\n  }\n}\n","module.exports = \"<div>\\r\\n  <div class=\\\"ui grid\\\">\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input #productNoInput matInput placeholder=\\\"Mã SP\\\" [(ngModel)]=\\\"product.no\\\" required>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Mã vạch\\\" [(ngModel)]=\\\"product.barcode\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Tên SP\\\" [(ngModel)]=\\\"product.name\\\" required>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <dropdown [(model)]=\\\"product.categoryId\\\"\\r\\n                [options]=\\\"categories\\\"\\r\\n                [label]=\\\"'Loại'\\\"\\r\\n                [valueMember]=\\\"'id'\\\"\\r\\n                [displayMember]=\\\"'name'\\\"></dropdown>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <dropdown [options]=\\\"uoms\\\" [label]=\\\"'ĐVT'\\\" [(model)]=\\\"product.uom\\\"></dropdown>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Giá nhập\\\" number [(model)]=\\\"product.cost\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Giá lẻ\\\" number [(model)]=\\\"product.retailPrice\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Giá sỉ\\\" number [(model)]=\\\"product.wholeSalePrice\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"eight wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <input matInput placeholder=\\\"Giá khuyến mãi\\\" number [(model)]=\\\"product.discountPrice\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <mat-form-field>\\r\\n        <textarea matInput placeholder=\\\"Ghi chú\\\" [(ngModel)]=\\\"product.notes\\\"></textarea>\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <mat-checkbox [(ngModel)]=\\\"product.isActive\\\">Hoạt động</mat-checkbox>\\r\\n    </div>\\r\\n    <div class=\\\"sixteen wide column\\\">\\r\\n      <mat-checkbox [(ngModel)]=\\\"product.isContainer\\\">Có sản phẩm lẻ</mat-checkbox>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" *ngIf=\\\"product.isContainer\\\">\\r\\n      <div class=\\\"sixteen wide column\\\">\\r\\n        <label>1 {{product.uom}} {{product.name}} có:</label>\\r\\n      </div>\\r\\n      <div class=\\\"four wide column\\\">\\r\\n        <mat-form-field [floatLabel]=\\\"'never'\\\">\\r\\n          <input matInput placeholder=\\\"SL\\\" [(ngModel)]=\\\"product.itemQty\\\" />\\r\\n        </mat-form-field>\\r\\n      </div>\\r\\n      <div class=\\\"twelve wide column\\\">\\r\\n        <product-lookup [(model)]=\\\"product.itemId\\\" [direction]=\\\"'upward'\\\"></product-lookup>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"actions\\\">\\r\\n    <button mat-flat-button (click)=\\\"doCancel()\\\">Hủy (Esc)</button>\\r\\n    <button mat-flat-button color=\\\"primary\\\" (click)=\\\"save()\\\">Lưu (F4)</button>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \".ui.grid > .column {\\n  padding-bottom: 0px; }\\n\"","import { Component, OnInit, Input, SimpleChanges, OnChanges, ElementRef, ViewChild, Output, EventEmitter, AfterViewInit, OnDestroy, HostListener } from '@angular/core';\nimport ProductService from '../../../services/product.service';\r\nimport Product from '../../../models/product';\r\nimport { Subscription, fromEvent } from 'rxjs';\r\nimport { Key } from 'ts-keycode-enum';\r\nimport UtilsService from '../../../services/utils.service';\r\ndeclare var $: any;\r\n\n@Component({\n  selector: 'product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.scss']\n})\nexport class ProductComponent implements OnInit, OnChanges {\n  constructor(private productService: ProductService, public utils: UtilsService) { }\n\n  @Input() id: number;\n  @ViewChild('productNoInput') productNoInput: ElementRef;\n\n  @Output() cancel = new EventEmitter();\n  @Output() commit = new EventEmitter();\n\n  product: Product = new Product();\n  categories: any[];\n  uoms: any[];\n\n  @HostListener('keyup', ['$event']) onKeyup(e: KeyboardEvent) {\n    switch (e.keyCode) {\n      case Key.Escape:\n        this.doCancel();\n        break;\n      case Key.F4:\n        this.save();\n        break;\n    }\n  };\n\n  ngOnInit() {\n    this.productService.getCategories().subscribe(categories => this.categories = categories);\n    this.productService.getUOMs().subscribe(uoms => this.uoms = uoms);  \n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!!changes.id) {\n      let id = changes.id.currentValue;\n      if (id > 0) {\n        this.productService.getProduct(id).subscribe(x => {\n          this.product = x;\n        });\n      }\n      else {\n        this.product = new Product();\n      }\n    }    \n  }  \n\n  save() {    \n    this.productService.save(this.product);\n    this.commit.emit();\n  }\n\n  doCancel() {\n    this.cancel.emit();\n  }\n\n  focus() {\n    $(this.productNoInput.nativeElement).focus();    \n  }  \n}\n\n","import { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProductComponent } from './components/product/product.component';\nimport { routes } from './product.routing'\nimport { RouterModule } from '@angular/router';\nimport { ProductListComponent } from './components/product-list/product-list.component'\nimport { WidgetModule } from '../widgets/widget.module';\r\nimport { FormsModule } from '@angular/forms';\nimport { ProductSearchComponent } from './components/product-search/product-search.component';\r\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    WidgetModule,\n    FormsModule    \n  ],\n  declarations: [\n    ProductComponent,\n    ProductListComponent,\n    ProductSearchComponent\n  ],\n  providers: [],\n  schemas: [NO_ERRORS_SCHEMA]\n})\nexport class ProductModule { }\n","import { Routes } from '@angular/router'\nimport { ProductListComponent } from './components/product-list/product-list.component';\r\n\nexport const routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductListComponent    \r\n  }\r\n];\r\n"],"sourceRoot":""}